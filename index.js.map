{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nlet lightbox;\n\nexport function createGallery(images){\n    const markup = images.map(({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads\n    }) => `\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\"><img class=\"gallery-image\"src=\"${webformatURL}\" alt=\"${tags}\"/>\n    </a>\n    <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n    <p class=\"info-item\"><b>Views</b> ${views}</p>\n    <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n    <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n    </div>\n    </li>`\n    )\n        .join(\"\");\n    \n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        })\n    } else {\n        lightbox.refresh();\n    }\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    if (loader) {\n        loader.classList.add(\"is-loading\");\n        loader.textContent = \"Loading images, please wait...\"\n    }\n}\n\nexport function hideLoader() {\n    if (loader) {\n        loader.classList.remove(\"is-loading\");\n        loader.textContent = \"\";\n    }\n}","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { createGallery, hideLoader } from \"./render-functions\";\n\nconst API_KEY = '49743900-b0f1cd5437de5205d7989fbc4';\n\nexport default function getImagesByQuery(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    return axios.get(`https://pixabay.com/api/?${params}`)\n        .then(({ data }) => {\n            return data.hits\n        })\n        .catch(error => {\n            console.log(error);\n            throw error;\n        });\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImagesByQuery from \"./js/pixabay-api\";\n\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\"\n\n\n\nconst form = document.querySelector('.form');\nconst input = form.querySelector('[name=\"search-text\"]')\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query.',\n            position: 'topRight',\n        });\n        return\n    }\n    \n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n        .then((images) => {\n            if (images.length > 0) {\n                createGallery(images)\n            } else {\n                iziToast.info({\n                    title: 'No Results',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n            }\n        })\n        .catch ((error) => {\n        console.log(error);\n        iziToast.error({\n            title: 'Error',\n            message: 'Failed to fetch images. Please try again later.',\n            position: 'topRight',\n        });\n    })\n        .finally(() => {\n            hideLoader()\n        });\n    \n});"],"names":["gallery","loader","lightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","hideLoader","API_KEY","getImagesByQuery","query","params","axios","data","error","form","input","event","iziToast"],"mappings":"owBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEG,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAO,IAAI,CAAC,CACvB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAU;AAAA;AAAA,oCAE0BL,CAAa,oCAAoCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wCAGvEC,CAAK;AAAA,wCACLC,CAAK;AAAA,2CACFC,CAAQ;AAAA,4CACPC,CAAS;AAAA;AAAA,UAGhD,EACI,KAAK,EAAE,EAEZZ,EAAQ,mBAAmB,YAAaK,CAAM,EAEzCH,EAMDA,EAAS,QAAO,EALhBA,EAAW,IAAIW,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,CAEO,SAASC,GAAe,CAC3Bd,EAAQ,UAAY,EACxB,CAEO,SAASe,GAAa,CACrBd,IACAA,EAAO,UAAU,IAAI,YAAY,EACjCA,EAAO,YAAc,iCAE7B,CAEO,SAASe,GAAa,CACrBf,IACAA,EAAO,UAAU,OAAO,YAAY,EACpCA,EAAO,YAAc,GAE7B,CCrDA,MAAMgB,EAAU,qCAED,SAASC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAOE,EAAM,IAAI,4BAA4BD,CAAM,EAAE,EAChD,KAAK,CAAC,CAAE,KAAAE,KACEA,EAAK,IACf,EACA,MAAMC,GAAS,CACZ,cAAQ,IAAIA,CAAK,EACXA,CAClB,CAAS,CACT,CCfA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,sBAAsB,EAEvDA,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMP,EAAQM,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACN,EAAO,CACRQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDb,IACAC,IAEAG,EAAiBC,CAAK,EACjB,KAAMf,GAAW,CACVA,EAAO,OAAS,EAChBD,EAAcC,CAAM,EAEpBuB,EAAS,KAAK,CACV,MAAO,aACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,CAEjB,CAAS,EACA,MAAQJ,GAAU,CACnB,QAAQ,IAAIA,CAAK,EACjBI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kDACT,SAAU,UACtB,CAAS,CACT,CAAK,EACI,QAAQ,IAAM,CACXX,EAAY,CACxB,CAAS,CAET,CAAC"}